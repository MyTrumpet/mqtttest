<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title></title>

<link rel="stylesheet" href="../css/bootstrap.min.css" />
<script src="../js/jquery.min.js"></script>
<script src="../js/bootstrap.min.js"></script>
<link rel="stylesheet" href="../css/style.css" />
</head>
<body>

	<div class="container">
		<div class="row col-sm-offset-3 col-sm-6">
			<form class="form-horizontal" action="">
				<h3 class="text-center">登录</h3>
				<div class="form-group">
					<label for="inputusername" class="col-sm-4 control-label">用户名称：</label>
					<div class="col-sm-6">
						<input type="text" name="username" class="form-control"
							id="inputusername" placeholder="用户名称"></input>
					</div>
				</div>
				<div class="form-group">
					<label for="inputPassword3" class="col-sm-4 control-label">用户密码：</label>
					<div class="col-sm-6">
						<input type="password" name="password" class="form-control"
							id="inputPassword3" placeholder="用户密码">
					</div>
				</div>
			</form>
			<div class="form-group" style="margin-bottom: 15px;">
					<div class="col-md-2 col-sm-offset-4">
						<button type="submit" name="" value="登 录"
							class="btn btn-default btn-lg" onclick="UserLogin()">登录</button>
					</div>
					<div class="col-md-2">
						<button class="btn btn-default btn-lg" href="#">注册</button>
					</div>
				</div>

		</div>
	</div>
	<script>
		function UserLogin() {
			var username = $("input[name=username]")[0].value;
			var password = $("input[name=password]")[0].value;

			// json串{key：value}
			var a = {
				'username' : username,
				'password' : password,
			};
			// jquery ajax用法
			$.ajax({
				// 请求方式
				type : "POST",
				// 请求地址
				url : "../LoginServlet",
				// 数据
				data : a,
				// 请求成功
				success : function(result) {
					window.location.href = '/mqtttest/portal/lightOn.html';
				},
				// 请求失败，包含具体的错误信息
				error : function(e) {
					alert("用户名或密码错误");
				}
			});
		}
	</script>
</body>
</html>
